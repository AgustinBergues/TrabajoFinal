function showHideOtherText(n,t){switch(t){case"1":$("input:radio[name='rdoCustomQuestion_"+n+"'][value='0']").prop("checked")?($("#txtMultipleChoice_"+n).val(""),$("#otherTextForRadio_"+n).show(),$("#txtMultipleChoice_"+n).removeAttr("readonly")):$("#otherTextForRadio_"+n).hide();break;case"2":$("input:checkbox[name^='chkCustomQuestion_"+n+"'][id='chkCustomQuestion_"+n+"_0']").is(":checked")?($("#otherTextForCheckbox_"+n).show(),$("#txtMultipleChoice_"+n).removeAttr("readonly")):$("#otherTextForCheckbox_"+n).hide()}}var customQuestionSurveyView={showLoader:function(n){n?$("#divLoader").show():$("#divLoader").hide()},addEditCustomQuestion:function(n,t,i,r){if(t==0){var u="",f=!1;switch(n){case 1:parseInt($("#hdnCompanyAddedQuestionCount").val())>=parseInt($("#hdnMaxCompanyQuestions").val())&&(f=!0,u="Add Company Level Custom Question");break;case 2:parseInt($("#hdnDivisionAddedQuestionCount").val())>=parseInt($("#hdnMaxDivisionQuestions").val())&&(f=!0,u="Add Division Level Custom Question");break;case 3:parseInt($("#hdnSurveyAddedQuestionCount").val())>=parseInt($("#hdnMaxSurveyQuestions").val())&&(f=!0,u="Add Survey Level Custom Question")}f?($("#divDialog").html("").text(""),$("#divDialog").html("The maximum number of custom questions have already been created. No more custom questions can be created."),$("#divDialog").dialog({title:u,closeOnEscape:!0,autoOpen:!0,width:400,modal:!0,resizable:!0,autoResize:!1,overlay:{opacity:.1,background:"black"},close:function(){$("#divDialog").html("")},buttons:[{text:"OK","class":"icons-group-horize btn-blue",click:function(){$("#divDialog").html("");$(this).dialog("close")}}]}),handleCloseIcon()):customQuestionSurveyView.redirectToAddcustomQuestion(n,t,i,r)}else customQuestionSurveyView.redirectToAddcustomQuestion(n,t,i,r)},deleteCustomQuestion:function(n,t,i){$("#divReviewQuestion").html('<div class="form-row"><div class="margin-bottom-10">Are you sure you want to delete this Custom Question?<\/div><\/div>');$("#divReviewQuestion").dialog({title:"Delete Custom Question",closeOnEscape:!0,autoOpen:!0,modal:!0,width:400,resizable:!1,autoResize:!1,overlay:{opacity:.1,background:"black"},close:function(){$("#divReviewQuestion").html("");$("#divLoader").hide();$(this).dialog("destroy")},buttons:[{text:"Yes","class":"icons-group-horize btn-blue",click:function(){$(this).dialog("close");customQuestionSurveyView.showLoader(!0);$.ajax({type:"POST",async:!1,url:baseUrl+"/RecruiterCustomQuestion/Delete/",data:{customQuestionId:n,programId:t,divisionId:i},success:function(n){customQuestionSurveyView.showLoader(!1);n=="Success"&&customQuestionSurveyView.loadCustomQuestion(parseInt($("#hdnProgramId").val()))}})}},{text:"No","class":"btn-gray",click:function(){$(this).dialog("close")}}]});handleCloseIcon()},loadCustomQuestion:function(n){customQuestionSurveyView.showLoader(!0);$.ajax({type:"GET",cache:!1,url:baseUrl+"/RecruiterCustomQuestion/_GetSurveyQuestions/",data:{divisionId:encodeURIComponent($("#hdnEncryptedDivisionId").val()),programId:n},success:function(n){customQuestionSurveyView.showLoader(!1);$("#dvQuestionList").html("");$("#dvQuestionList").html(n)}})},redirectToAddcustomQuestion:function(n,t,i,r){window.location.href=baseUrl+"/RecruiterCustomQuestion/RedirectAddCustomQuestion?QuestionLevel= "+n+"&customQuestionId= "+t+"&programId= "+i+"&divisionId= "+r+""},viewSurveyPreview:function(){var n=$("#hdnCompanyId").val(),t=$("#DivisionId").val().trim(),i=$("#hdnProgramId").val(),r=$("#hdnProgramName").val();customQuestionSurveyView.showLoader(!0);$("#customQuestionSurveyPreview").html("");$.ajax({type:"GET",url:baseUrl+"/RecruiterCustomQuestion/PreviewSurvey/",data:{companyId:n,divisionId:t,programId:i},cache:!1,async:!1,success:function(n){$("#customQuestionSurveyPreview").html(n);customQuestionSurveyView.showLoader(!1)}});$("#customQuestionSurveyPreview").dialog({title:r,closeOnEscape:!0,autoOpen:!0,modal:!0,width:$(window).width()*.9,height:$(window).height()*.9,resizable:!1,autoResize:!1,overlay:{opacity:.1,background:"black"},close:function(){$("#customQuestionSurveyPreview").html("");$(this).dialog("destroy")},open:function(){$("#customQuestionSurveyPreview").scrollTop("0")},buttons:[{text:"OK","class":"icons-group-horize btn-blue",click:function(){return $("#customQuestionSurveyPreview").html(""),$(this).dialog("close"),!1}}]});handleCloseIcon()},viewAuditHistory:function(n,t,i){var r="";switch(n){case 1:r="Company Level Audit History";break;case 2:r="Division Level Audit History";break;case 3:r="Survey Level Audit History"}customQuestionSurveyView.showLoader(!0);$("#customQuestionAuditPreview").html("");$.ajax({type:"GET",url:baseUrl+"/RecruiterCustomQuestion/ViewAuditHistory/",data:{questionLevel:n,companyId:$("#hdnCompanyId").val(),divisionId:i,programId:t},cache:!1,async:!1,success:function(n){customQuestionSurveyView.showLoader(!1);$("#customQuestionAuditPreview").html(n);$("#customQuestionAuditPreview").dialog({title:r,closeOnEscape:!0,autoOpen:!0,width:600,Height:400,modal:!0,resizable:!1,autoResize:!1,close:function(){$("#customQuestionAuditPreview").html("");$(this).dialog("destroy")},open:function(){$("#customQuestionAuditPreview").scrollTop(0)},buttons:[{text:"OK","class":"icons-group-horize btn-blue",click:function(){return $("#customQuestionAuditPreview").html(""),$(this).dialog("close"),!1}}]});handleCloseIcon()}})},navigateBack:function(n){window.location.href=n}};$(document).ready(function(){var n=!1,t=!1,i=!1;$("body").click(function(){n?($(".CQ-placeholder-box.multi-select").parent().removeClass("open"),$(".CQ-placeholder-box.rate-one-item").parent().removeClass("open"),n=!1):t?($(".CQ-placeholder-box.single-select").parent().removeClass("open"),$(".CQ-placeholder-box.rate-one-item").parent().removeClass("open"),t=!1):i?($(".CQ-placeholder-box.single-select").parent().removeClass("open"),$(".CQ-placeholder-box.multi-select").parent().removeClass("open"),i=!1):n||t||i||($(".CQ-placeholder-box.single-select").parent().removeClass("open"),$(".CQ-placeholder-box.multi-select").parent().removeClass("open"),$(".CQ-placeholder-box.rate-one-item").parent().removeClass("open"),n=!1,t=!1,i=!1)});$(".CQ-answer-box.single-select").click(function(){n=!0;$(".CQ-placeholder-box.multi-select").parent().removeClass("open");$(".CQ-placeholder-box.rate-one-item").parent().removeClass("open");$(this).toggleClass("open")});$(".CQ-answer-box.multi-select").click(function(){t=!0;$(".CQ-placeholder-box.single-select").parent().removeClass("open");$(".CQ-placeholder-box.rate-one-item").parent().removeClass("open");$(this).toggleClass("open")});$(".CQ-answer-box.rate-one-item").click(function(){i=!0;$(".CQ-placeholder-box.single-select").parent().removeClass("open");$(".CQ-placeholder-box.multi-select").parent().removeClass("open");$(this).toggleClass("open")});$(".CQ-answer-box .close-ddl").change(function(){$(".CQ-answer-box").removeClass("open")});$(".CQ-answer-box .single-select").change(function(){var n=$(this).next().text();$(this).parent().parent().siblings().find("span").text(n)});$(".CQ-answer-box .multi-select").change(function(){var n=$(this).parent().parent().parent().find(".multi-select:checked").length,t;n==1?(t=$(this).parent().parent().parent().find(".multi-select:checked").parent().find("span").text(),$(this).parent().parent().siblings().find("span").text(t)):n>1?$(this).parent().parent().siblings().find("span").text(n+" Answers Selected"):$(this).parent().parent().siblings().find("span").text("Select Answer")});$(".CQ-answer-box .rate-one-item").change(function(){var n=$(this).next().text();$(this).parent().parent().siblings().find("span").text(n)});$(".CQ-answer-box").parent().addClass("has-dropdown");$("#btnPreviewReferenceSurvey").on("click",function(){customQuestionSurveyView.viewSurveyPreview()});$("#btnPreviewSurvey").on("click",function(){const n=$(this).data("return-url");customQuestionSurveyView.navigateBack(n)});const r=function(n){n.preventDefault();const t=$(this).data("question-level"),i=$(this).data("question-id"),r=$(this).data("program-id"),u=$(this).data("division-id");customQuestionSurveyView.addEditCustomQuestion(t,i,r,u)};$(document).on("click",".add-company-question, .add-division-question, .add-survey-question, .edit-custom-question",r);$(document).on("click",".delete-custom-question",function(n){n.preventDefault();const t=$(this).data("question-id"),i=$(this).data("program-id"),r=$(this).data("division-id");customQuestionSurveyView.deleteCustomQuestion(t,i,r)});$(document).on("click",".view-audit-history",function(n){n.preventDefault();const t=$(this).data("question-level"),i=$(this).data("program-id"),r=$(this).data("division-id");customQuestionSurveyView.viewAuditHistory(t,i,r)});$(document).on("change",".custom-question-radio, .custom-question-checkbox",function(){const n=$(this).data("question-id"),t=$(this).data("question-type-id");showHideOtherText(n,t)})})